# 호텔 대실

> https://school.programmers.co.kr/learn/courses/30/lessons/155651

### 내 코드

```java
import java.util.*;

class Solution {
    public int solution(String[][] book_time) {
        ArrayList<Book> list = new ArrayList<>();
        for (String[] book : book_time) {
            int s = toMinute(book[0]);
            int e = toMinute(book[1]);
            list.add(new Book(s, e));
        }

        list.sort((o1, o2) -> o1.start - o2.start);

        int ans = 0;
        Queue<Book> q = new PriorityQueue<>((o1, o2) -> o1.end - o2.end);
        for (Book cur : list) {
            while (!q.isEmpty() && q.peek().end + 10 <= cur.start) {
                q.poll();
            }
            q.offer(cur);
            ans = Math.max(ans, q.size());
        }

        return ans;
    }

    public int toMinute(String str) {
        String[] s = str.split(":");
        return Integer.parseInt(s[0]) * 60 + Integer.parseInt(s[1]);
    }

    static class Book {
        int start, end;

        public Book(int start, int end) {
            this.start = start;
            this.end = end;
        }
    }
}
```

### 피드백

- 리스트에 예약을 시작하는 순서대로 담은 뒤, 리스트에서 예약을 하나씩 뽑아 우선순위 큐에 넣자.
    - 큐에 넣기 직전에 만약 큐에 종료시간 + 10분 한 값이 시작시간 이하라면 모두 poll.
    - 그리고 큐에 넣으면 현재 큐의 사이즈 최대값을 계속 업데이트 해준다.
- 핵심은 시간을 모두 분으로 계산하는 과정과 종료시간이 빠른 순서인 우선순위 큐를 활용.
    - 한편 우선순위 큐에서 정리 코드를 `(o1, o2) -> o1.end - o2.end` 보다는 `Comparator.comparingInt(o -> o.end)`로 바꿔주자.

### 출처

- 