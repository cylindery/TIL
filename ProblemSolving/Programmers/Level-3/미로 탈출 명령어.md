# 미로 탈출 명령어

> https://school.programmers.co.kr/learn/courses/30/lessons/150365

### 내 코드

```java
import java.util.*;

class Solution {
    public String solution(int n, int m, int x, int y, int r, int c, int k) {
        int dist = Math.abs(x - r) + Math.abs(y - c);
        if (dist % 2 != k % 2 || dist > k) return "impossible";

        Queue<Pos> q = new ArrayDeque<>();
        int[] dx = {0, 0, -1, 1};
        int[] dy = {-1, 1, 0, 0};
        int[] cnt = new int[5];
        int[][] map = new int[n + 1][m + 1];
        q.offer(new Pos(x, y, 0, 0, 0, 0));

        while (!q.isEmpty()) {
            Pos cur = q.poll();
            if (cur.x == r && cur.y == c) {
                cnt[0] = cur.l;
                cnt[1] = cur.r;
                cnt[2] = cur.u;
                cnt[3] = cur.d;
                cnt[4] = map[cur.x][cur.y];
                break;
            }

            for (int i = 0; i < 4; i++) {
                int nx = cur.x + dx[i];
                int ny = cur.y + dy[i];
                int nl = cur.l;
                int nr = cur.r;
                int nu = cur.u;
                int nd = cur.d;
                if (i == 0) nl++;
                else if (i == 1) nr++;
                else if (i == 2) nu++;
                else if (i == 3) nd++;

                if (nx <= 0 || ny <= 0 || nx > n || ny > m) continue;
                if (map[nx][ny] == 0) {
                    map[nx][ny] = map[cur.x][cur.y] + 1;
                    q.offer(new Pos(nx, ny, nl, nr, nu, nd));
                }
            }
        }

        String ans = "d".repeat(cnt[3]) + "l".repeat(cnt[0]) + "r".repeat(cnt[1]) + "u".repeat(cnt[2]);

        // du, lr, rl, ud 순서로 반복
        int rep = (int) (k - dist) / 2;
        if (r < n) {
            ans += "du".repeat(rep);
        } else if (c > 1) {
            ans += "lr".repeat(rep);
        } else if (c < m) {
            ans += "rl".repeat(rep);
        } else {
            ans += "ud".repeat(rep);
        }

        return ans;
    }

    static class Pos {
        int x, y, l, r, u, d;

        public Pos(int x, int y, int l, int r, int u, int d) {
            this.x = x;
            this.y = y;
            this.l = l;
            this.r = r;
            this.u = u;
            this.d = d;
        }
    }
}
```

### 참고한 코드

```java

```

### 피드백

- 채점 결과 대부분 테스트 케이스 실패. 그리디로 풀려다 생각하지 못한 부분들이 있었다. 예를 들어 최소한 거리보다 더 왼쪽으로 가서 우좌 반복해서 오는 경우

### 출처

- https://ddingmin00.tistory.com/entry/%ED%94%84%EB%A1%9C%EA%B7%B8%EB%9E%98%EB%A8%B8%EC%8A%A4-%ED%8C%8C%EC%9D%B4%EC%8D%AC-2023-KAKAO-BLIND-RECRUITMENT-%EB%AF%B8%EB%A1%9C-%ED%83%88%EC%B6%9C-%EB%AA%85%EB%A0%B9%EC%96%B4